<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="refresh" content="60">
    <link rel="stylesheet" href="simple.min.css">
    <title>WFR DAQ</title>
</head>

<body>
    <header>
        <div>
            <h1>
                <svg height="4rem" viewBox="0 0 171.42053 56.971104" version="1.1" id="svg1"
                    xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xml:space="preserve">
                    <defs id="defs1" />
                    <g id="layer1">
                        <g id="g1" transform="translate(-2.6163997,-3.0733174)">
                            <path id="path37"
                                d="M 76.750985,3.0864204 123.23501,3.0735304 117.39113,14.49381 H 70.913779 Z"
                                style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.230192" />
                            <path id="path38"
                                d="m 55.605607,44.44862 h 12.351408 l 7.450621,-14.54974 h 34.113284 l 5.73385,-11.2039 -46.483797,0.0129 z"
                                style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.230192" />
                            <path id="path39"
                                d="m 106.1561,44.44857 h 12.82883 l 15.3317,-29.94175 21.80446,-0.01 -1.81943,4.17844 -21.92878,-0.006 21.18641,41.37516 h 12.82859 L 151.26634,29.89873 h 9.37618 l 13.39441,-26.8254126 -46.4838,0.01312 z"
                                style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.230192" />
                            <path id="path40"
                                d="M 58.969679,3.0734844 42.628355,34.98614 H 37.873511 L 54.214835,3.0734844 H 41.386009 L 25.044917,34.98614 H 20.290073 L 36.631166,3.0734844 H 23.802571 L 2.6163997,44.44864 h 0.375903 12.4526913 4.754844 12.828595 4.755073 11.686153 1.142442 L 71.798273,3.0734844 Z"
                                style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.230192" />
                        </g>
                    </g>
                </svg><br />Data Acquisition
            </h1>
        </div>
    </header>

    <main>
        <section>
            <header>
                <h2>Data Egress</h2>
                <p class="notice"><b>Only data from the current session is downloaded.</b> A session starts when the DAQ
                    starts. InfluxDB allows older data downloads, but it is assumed that Motec files or CSVs of past
                    sessions have already been downloaded.</p>
            </header>
            <p>
                <input type="button" value="Download CSV" onclick="download('csv')" />
                <input type="button" value="Download Motec LD" onclick="download('motec')" />
                <dialog id="loading-dialog">
                    <h1 id="loading-dialog-label">Downloading</h1>
                </dialog>
            </p>
        </section>
        <section>
            <header>
                <h2>Utilities</h2>
            </header>
            <dl>
                <dt><b>Grafana</b></dt>
                <dd>Real-time data visualization: <a href="http://raspberrypi.local:3000/" target="_blank"
                        rel="noreferrer noopener">http://raspberrypi.local:3000/ <svg fill="#000000"
                            xmlns="http://www.w3.org/2000/svg" width=".85rem" height=".85rem" viewBox="0 0 52 52"
                            enable-background="new 0 0 52 52" xml:space="preserve">
                            <g>
                                <path d="M48.7,2H29.6C28.8,2,28,2.5,28,3.3v3C28,7.1,28.7,8,29.6,8h7.9c0.9,0,1.4,1,0.7,1.6l-17,17
                           c-0.6,0.6-0.6,1.5,0,2.1l2.1,2.1c0.6,0.6,1.5,0.6,2.1,0l17-17c0.6-0.6,1.6-0.2,1.6,0.7v7.9c0,0.8,0.8,1.7,1.6,1.7h2.9
                           c0.8,0,1.5-0.9,1.5-1.7v-19C50,2.5,49.5,2,48.7,2z" />
                                <path d="M36.3,25.5L32.9,29c-0.6,0.6-0.9,1.3-0.9,2.1v11.4c0,0.8-0.7,1.5-1.5,1.5h-21C8.7,44,8,43.3,8,42.5v-21
                           C8,20.7,8.7,20,9.5,20H21c0.8,0,1.6-0.3,2.1-0.9l3.4-3.4c0.6-0.6,0.2-1.7-0.7-1.7H6c-2.2,0-4,1.8-4,4v28c0,2.2,1.8,4,4,4h28
                           c2.2,0,4-1.8,4-4V26.2C38,25.3,36.9,24.9,36.3,25.5z" />
                            </g>
                        </svg></a></dd>
                <dt><b>InfluxDB</b></dt>
                <dd>Time-series database control panel: <a href="http://raspberrypi.local:8086/" target="_blank"
                        rel="noreferrer noopener">http://raspberrypi.local:8086/ <svg fill="#000000"
                            xmlns="http://www.w3.org/2000/svg" width=".85rem" height=".85rem" viewBox="0 0 52 52"
                            enable-background="new 0 0 52 52" xml:space="preserve">
                            <g>
                                <path d="M48.7,2H29.6C28.8,2,28,2.5,28,3.3v3C28,7.1,28.7,8,29.6,8h7.9c0.9,0,1.4,1,0.7,1.6l-17,17
                       c-0.6,0.6-0.6,1.5,0,2.1l2.1,2.1c0.6,0.6,1.5,0.6,2.1,0l17-17c0.6-0.6,1.6-0.2,1.6,0.7v7.9c0,0.8,0.8,1.7,1.6,1.7h2.9
                       c0.8,0,1.5-0.9,1.5-1.7v-19C50,2.5,49.5,2,48.7,2z" />
                                <path d="M36.3,25.5L32.9,29c-0.6,0.6-0.9,1.3-0.9,2.1v11.4c0,0.8-0.7,1.5-1.5,1.5h-21C8.7,44,8,43.3,8,42.5v-21
                       C8,20.7,8.7,20,9.5,20H21c0.8,0,1.6-0.3,2.1-0.9l3.4-3.4c0.6-0.6,0.2-1.7-0.7-1.7H6c-2.2,0-4,1.8-4,4v28c0,2.2,1.8,4,4,4h28
                       c2.2,0,4-1.8,4-4V26.2C38,25.3,36.9,24.9,36.3,25.5z" />
                            </g>
                        </svg></a></dd>
            </dl>
        </section>
    </main>
    <footer>
        <span id="session_hash_span">Session hash: </span>
    </footer>
    <script src="./index.js"></script>
</body>

</html>